version: "3.8"

services:
  web1:
    image: nginx:latest
    container_name: vh_web1
    volumes:
      - ./web1:/usr/share/nginx/html:ro

  web2:
    image: nginx:latest
    container_name: vh_web2
    volumes:
      - ./web2:/usr/share/nginx/html:ro

  proxy:
    image: nginx:latest
    container_name: vh_proxy
    ports:
      - "8082:80"     # host:container â€” using 8082 to avoid conflicts
    volumes:
      - ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - web1
      - web2
